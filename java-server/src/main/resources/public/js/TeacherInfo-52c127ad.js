import{d as e,L as l,b as a,U as o,M as r,_ as t,c as d,e as s,f as m,w as u,N as n,z as p,o as i,F as c,y as f,O as h,j as V,D as b,P as _,E as g,m as v,Q as y}from"./index-7ed7b84e.js";/* empty css               *//* empty css                  *//* empty css                    *//* empty css              *//* empty css            *//* empty css               */import{h as k,i as U}from"./personServ-b456a50e.js";const j=e({data:()=>({teacherId:0,form:{},gender:{},birthday:new Date,genderList:[{value:"1",title:"男"},{value:"2",title:"女"}]}),async created(){const e=this.$route.query.teacherId;null!=e&&(this.teacherId=parseInt(e.toString())),null!=this.teacherId&&(this.form=await k(this.teacherId))},methods:{async submit(){this.$refs.form.validate((async(e,r)=>{if(e){this.form.person.birthday=l(this.birthday);const e=await U(this.teacherId,this.form);0==e.code?a.push({path:"/teacher-panel"}):alert(e.msg)}else o.error("请检查输入项")}))},cancel(){a.push({path:"/teacher-panel"})},checkIdNum(){const e=this.form.person.card,l=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;return l.test(e)?l.test(e):(r.alert("证件号格式不正确"),!1)},checkPhone(){const e=this.form.person.phone,l=/^1[34578]\d{9}$/;return l.test(e)?l.test(e):(r.alert("手机号码格式不正确"),!1)},checkEmail(){const e=this.form.person.email,l=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;return l.test(e)?l.test(e):(r.alert("邮箱格式不正确"),!1)}}}),I={class:"base_form"},$={class:"form-div",style:{"margin-top":"5px"}};const w=t(j,[["render",function(e,l,a,o,r,t){const k=b,U=_,j=g,w=v,x=y,C=n,q=p;return i(),d("div",I,[l[13]||(l[13]=s("div",{class:"base_header"},[s("div",{class:"blue_column"}),s("div",{class:"base_title"},"教师信息")],-1)),s("div",$,[m(C,{model:e.form,"label-width":"100px",ref:"form"},{default:u((()=>[m(U,{label:"工号"},{default:u((()=>[m(k,{modelValue:e.form.person.num,"onUpdate:modelValue":l[0]||(l[0]=l=>e.form.person.num=l),placeholder:"工号"},null,8,["modelValue"])])),_:1}),m(U,{label:"姓名"},{default:u((()=>[m(k,{modelValue:e.form.person.name,"onUpdate:modelValue":l[1]||(l[1]=l=>e.form.person.name=l),placeholder:"姓名"},null,8,["modelValue"])])),_:1}),m(U,{label:"学院"},{default:u((()=>[m(k,{modelValue:e.form.person.dept,"onUpdate:modelValue":l[2]||(l[2]=l=>e.form.person.dept=l),placeholder:"学院"},null,8,["modelValue"])])),_:1}),m(U,{label:"职称"},{default:u((()=>[m(k,{modelValue:e.form.title,"onUpdate:modelValue":l[3]||(l[3]=l=>e.form.title=l),placeholder:"职称"},null,8,["modelValue"])])),_:1}),m(U,{label:"学位"},{default:u((()=>[m(k,{modelValue:e.form.degree,"onUpdate:modelValue":l[4]||(l[4]=l=>e.form.degree=l),placeholder:"学位"},null,8,["modelValue"])])),_:1}),m(U,{label:"证件号码",prop:"person.card",rules:[{required:!0,message:"非法参数",trigger:"blur",validator:e.checkIdNum}]},{default:u((()=>[m(k,{modelValue:e.form.person.card,"onUpdate:modelValue":l[5]||(l[5]=l=>e.form.person.card=l),placeholder:"证件号码"},null,8,["modelValue"])])),_:1},8,["rules"]),m(U,{label:"性别"},{default:u((()=>[m(w,{modelValue:e.form.person.gender,"onUpdate:modelValue":l[6]||(l[6]=l=>e.form.person.gender=l),placeholder:"请选择性别"},{default:u((()=>[(i(!0),d(c,null,f(e.genderList,(e=>(i(),h(j,{key:e.value,label:e.title,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),m(U,{label:"出生日期"},{default:u((()=>[m(x,{modelValue:e.birthday,"onUpdate:modelValue":l[7]||(l[7]=l=>e.birthday=l),type:"date",placeholder:"选择出生日期"},null,8,["modelValue"])])),_:1}),m(U,{label:"邮箱",prop:"person.email",rules:[{type:"email",required:!0,message:"非法参数",trigger:"blur",validator:e.checkEmail}]},{default:u((()=>[m(k,{modelValue:e.form.person.email,"onUpdate:modelValue":l[8]||(l[8]=l=>e.form.person.email=l),placeholder:"邮箱"},null,8,["modelValue"])])),_:1},8,["rules"]),m(U,{label:"电话",prop:"person.phone",rules:[{required:!0,message:"非法参数",trigger:"blur",validator:e.checkPhone}]},{default:u((()=>[m(k,{modelValue:e.form.person.phone,"onUpdate:modelValue":l[9]||(l[9]=l=>e.form.person.phone=l),placeholder:"电话"},null,8,["modelValue"])])),_:1},8,["rules"]),m(U,{label:"地址"},{default:u((()=>[m(k,{modelValue:e.form.person.address,"onUpdate:modelValue":l[10]||(l[10]=l=>e.form.person.address=l),placeholder:"地址"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"]),m(q,{class:"commButton",onClick:e.submit,type:"primary"},{default:u((()=>l[11]||(l[11]=[V("提交")]))),_:1},8,["onClick"]),m(q,{class:"commButton",onClick:e.cancel,type:"default"},{default:u((()=>l[12]||(l[12]=[V("返回")]))),_:1},8,["onClick"])])])}]]);export{w as default};
