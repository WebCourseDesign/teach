import{d as a,K as e,u as s,L as t,M as l,C as r,c as u,f as n,e as c,w as d,s as i,o,k as p,G as v,l as f,N as m,H as h,I as k,x as y,O as _,P as b,_ as g}from"./index-be5cb234.js";/* empty css            *//* empty css              *//* empty css             */import{g as w}from"./taskServ-700d17df.js";import{g as $}from"./absenceServ-27f6f014.js";import"./request-9dd860e1.js";const C={class:"base_form"},j={class:"dashboard-container"},I={class:"card-header"},x={key:0,class:"student-info"},S=["src"],q={class:"info-details"},N={class:"card-header"},M={class:"task-list"},P={key:1,class:"task-items"},z={class:"card-header"},A={class:"absence-list"},B={key:1,class:"absence-items"},G={class:"dashboard-container"},H={class:"button-group"},K=g(a({__name:"StudentMainPage",setup(a){const g=e(),K=e(""),L=e([]),O=e([]),T=s(),U=a=>{switch(a){case 0:return"warning";case 1:return"success";case 2:return"info";default:return""}},D=a=>{switch(a){case 0:return"未提交";case 1:return"已提交";case 2:return"批改中";case 3:return"已批改";default:return"未知状态"}},E=a=>{switch(a){case 0:return"warning";case 1:return"success";case 2:return"danger";default:return""}},F=a=>{switch(a){case 0:return"待审批";case 1:return"已通过";case 2:return"未通过";default:return"未知状态"}};return t((async()=>{try{if(T.$state.userInfo.username){const a=await l("/api/base/getByUsername",{username:T.$state.userInfo.username});if(g.value=a.data,g.value.personId){const a=await r(g.value.personId+".jpg");K.value=a.data,null!=K.value&&(K.value=K.value.replace("data:image/png;base64","data:image/jpeg;base64"))}}const a=await w();L.value=a.data.data.slice(0,2);const e=await $();O.value=e.slice(0,2)}catch(a){}})),(a,e)=>{const s=y,t=i,l=b,r=_;return o(),u("div",C,[e[30]||(e[30]=n("div",{class:"base_header"},[n("div",{class:"blue_column"}),n("div",{class:"base_title"},"学生工作台")],-1)),n("div",j,[c(t,{class:"info-card"},{header:d((()=>[n("div",I,[e[11]||(e[11]=n("span",null,"学生信息",-1)),c(s,{text:"",onClick:e[0]||(e[0]=e=>a.$router.push("/StudentIntroduce"))},{default:d((()=>e[10]||(e[10]=[p("详细信息")]))),_:1})])])),default:d((()=>[g.value?(o(),u("div",x,[n("img",{src:K.value||"/user.png",class:"avatar",alt:"avatar"},null,8,S),n("div",q,[n("p",null,[e[12]||(e[12]=n("b",null,"学号:",-1)),p(" "+v(g.value.num),1)]),n("p",null,[e[13]||(e[13]=n("b",null,"姓名:",-1)),p(" "+v(g.value.name),1)]),n("p",null,[e[14]||(e[14]=n("b",null,"学院:",-1)),p(" "+v(g.value.dept),1)]),n("p",null,[e[15]||(e[15]=n("b",null,"专业:",-1)),p(" "+v(g.value.major),1)]),n("p",null,[e[16]||(e[16]=n("b",null,"班级:",-1)),p(" "+v(g.value.className),1)]),n("p",null,[e[17]||(e[17]=n("b",null,"邮箱:",-1)),p(" "+v(g.value.email),1)])])])):f("",!0)])),_:1}),c(t,{class:"task-card"},{header:d((()=>[n("div",N,[e[19]||(e[19]=n("span",null,"近期作业",-1)),c(s,{text:"",onClick:e[1]||(e[1]=e=>a.$router.push("/task-panel"))},{default:d((()=>e[18]||(e[18]=[p("查看全部")]))),_:1})])])),default:d((()=>[n("div",M,[L.value.length?(o(),u("div",P,[(o(!0),u(h,null,k(L.value,(a=>{var e;return o(),u("div",{key:a.taskId,class:"task-item"},[n("h4",null,v(a.taskName),1),n("p",null,"课程: "+v(null==(e=a.course)?void 0:e.name),1),n("p",null,"截止时间: "+v(a.overTime),1),c(r,{type:U(a.state)},{default:d((()=>[p(v(D(a.state)),1)])),_:2},1032,["type"])])})),128))])):(o(),m(l,{key:0,description:"暂无待交作业"}))])])),_:1}),c(t,{class:"absence-card"},{header:d((()=>[n("div",z,[e[21]||(e[21]=n("span",null,"请假记录",-1)),c(s,{text:"",onClick:e[2]||(e[2]=e=>a.$router.push("/absence-panel"))},{default:d((()=>e[20]||(e[20]=[p("查看全部")]))),_:1})])])),default:d((()=>[n("div",A,[O.value.length?(o(),u("div",B,[(o(!0),u(h,null,k(O.value,(a=>(o(),u("div",{key:a.id,class:"absence-item"},[n("p",null,"开始时间: "+v(a.start),1),n("p",null,"结束时间: "+v(a.end),1),c(r,{type:E(a.approved)},{default:d((()=>[p(v(F(a.approved)),1)])),_:2},1032,["type"])])))),128))])):(o(),m(l,{key:0,description:"暂无请假记录"}))])])),_:1})]),n("div",G,[c(t,{class:"quick-access"},{header:d((()=>e[22]||(e[22]=[n("div",{class:"card-header"},[n("span",null,"快速入口")],-1)]))),default:d((()=>[n("div",H,[c(s,{type:"primary",onClick:e[3]||(e[3]=e=>a.$router.push("/score-table-panel"))},{default:d((()=>e[23]||(e[23]=[p("成绩查询")]))),_:1}),c(s,{type:"success",onClick:e[4]||(e[4]=e=>a.$router.push("/select-course-panel"))},{default:d((()=>e[24]||(e[24]=[p("选课系统")]))),_:1}),c(s,{type:"warning",onClick:e[5]||(e[5]=e=>a.$router.push("/StudentIntroduce"))},{default:d((()=>e[25]||(e[25]=[p("个人画像")]))),_:1}),c(s,{type:"danger",onClick:e[6]||(e[6]=e=>a.$router.push("/daily-activity-panel"))},{default:d((()=>e[26]||(e[26]=[p("日常活动管理")]))),_:1}),c(s,{type:"primary",onClick:e[7]||(e[7]=e=>a.$router.push("/honor-panel"))},{default:d((()=>e[27]||(e[27]=[p("荣誉管理")]))),_:1}),c(s,{type:"success",onClick:e[8]||(e[8]=e=>a.$router.push("/innovation-panel"))},{default:d((()=>e[28]||(e[28]=[p("创新实践管理")]))),_:1}),c(s,{type:"warning",onClick:e[9]||(e[9]=e=>a.$router.push("/absence-panel"))},{default:d((()=>e[29]||(e[29]=[p("考勤管理")]))),_:1})])])),_:1})])])}}}),[["__scopeId","data-v-f153a706"]]);export{K as default};
