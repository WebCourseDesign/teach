import{d as t,B as e,_ as s,c as i,e as d,f as o,k as l,x as a,h as n,v as c,F as r,C as m,o as u}from"./index-e2669943.js";/* empty css             *//* empty css                 */import{c as p,d as h,e as g}from"./systemServ-d61fc1f6.js";import{m as f,a as N}from"./messageBox-8b82c92f.js";const x=t({data:()=>({nodes:[],editedNode:{},currentNode:{},deleteId:-1,dialogTitle:"",defaultProps:{id:"id",children:"children",label:"label"}}),async created(){this.nodes=await p()},methods:{onNodeClick(t){this.currentNode=t},addItemFirst(){this.editedNode={},this.editedNode.pid=null,this.editedNode.parentTitle="",this.dialogTitle="添加字典名对话框",e("favDialog").show()},addItem(){this.editedNode={},this.editedNode.pid=this.currentNode.id,this.editedNode.parentTitle=this.currentNode.title,this.dialogTitle="添加字典项对话框",e("favDialog").show()},editItem(){this.editedNode=this.currentNode,this.dialogTitle="修改菜单对话框",e("favDialog").show()},close(){e("favDialog").close()},async confirm(){this.close();const t=await h(this.editedNode);0==t.code?(f(this,"保存成功"),this.nodes=await p()):f(this,t.msg)},async deleteItem(){if(!(await N("确认删除吗?")))return;const t=await g(this.currentNode.id);0==t.code?(f(this,"删除成功"),this.nodes=await p()):f(this,t.msg)}}}),v={class:"base_form"},y={class:"base_query_oneLine"},b={class:"query_left"},I={key:0,style:{"margin-top":"5px"}},k={id:"favDialog",onclose:"close()",style:{position:"absolute",top:"300px",left:"300px",width:"300px",height:"210px"}},C={class:"base_title"},w={class:"dialog-div",style:{"margin-top":"5px"}},_={class:"dialog-content"},B={colspan:"1"},T={colspan:"1"},j={colspan:"1"},D={colspan:"2"};const F=s(x,[["render",function(t,e,s,p,h,g){const f=m;return u(),i(r,null,[d("div",v,[e[8]||(e[8]=d("div",{class:"base_header"},[d("div",{class:"blue_column"}),d("div",{class:"base_title"},"字典管理")],-1)),d("div",y,[d("div",b,[d("button",{style:{"margin-left":"5px"},class:"commButton",onClick:e[0]||(e[0]=(...e)=>t.addItemFirst&&t.addItemFirst(...e))}," 添加数据项名 "),d("button",{class:"commButton",style:{"margin-left":"5px"},onClick:e[1]||(e[1]=(...e)=>t.addItem&&t.addItem(...e))}," 添加数据项 "),d("button",{class:"commButton",style:{"margin-left":"5px"},onClick:e[2]||(e[2]=(...e)=>t.editItem&&t.editItem(...e))}," 修改 "),d("button",{class:"commButton",style:{"margin-left":"5px"},onClick:e[3]||(e[3]=(...e)=>t.deleteItem&&t.deleteItem(...e))}," 删除 ")])]),null!==t.nodes?(u(),i("div",I,[o(f,{data:t.nodes,props:t.defaultProps,accordion:"",onNodeClick:t.onNodeClick},null,8,["data","props","onNodeClick"])])):l("",!0)]),d("dialog",k,[d("div",C,a(t.dialogTitle),1),d("div",w,[d("table",_,[d("tr",null,[e[9]||(e[9]=d("td",{colspan:"1",style:{"text-align":"right"}},"字典名",-1)),d("td",B,a(t.editedNode.parentTitle),1)]),d("tr",null,[e[10]||(e[10]=d("td",{colspan:"1",style:{"text-align":"right"}},"数据值",-1)),d("td",T,[n(d("input",{"onUpdate:modelValue":e[4]||(e[4]=e=>t.editedNode.value=e),class:"commInput"},null,512),[[c,t.editedNode.value]])])]),d("tr",null,[e[11]||(e[11]=d("td",{colspan:"1",style:{"text-align":"right"}},"数据标题",-1)),d("td",j,[n(d("input",{"onUpdate:modelValue":e[5]||(e[5]=e=>t.editedNode.title=e),class:"commInput"},null,512),[[c,t.editedNode.title]])])]),d("tr",null,[d("td",D,[d("button",{class:"commButton",onClick:e[6]||(e[6]=e=>t.close()),style:{"margin-right":"30px","margin-left":"80px"}}," 取消 "),d("button",{class:"commButton",onClick:e[7]||(e[7]=e=>t.confirm())},"确认")])])])])])],64)}]]);export{F as default};
